{"version":3,"sources":["pages/Setup.js"],"names":["Setup","useState","clientId","setClientId","clientSecret","setClientSecret","loadingAuthURL","setLoadingAuthURL","authCode","setAuthCode","loadingToken","setLoadingToken","token","setToken","scope","setScope","parentFolder","setParentFolder","username","setUsername","password","setPassword","getAuthURL","a","params","URLSearchParams","fetch","then","res","json","error","window","open","authURL","getAuthToken","JSON","stringify","style","marginBottom","type","name","value","placeholder","onChange","e","target","className","onClick","disabled","readOnly"],"mappings":"8LAEe,SAASA,IAAS,IAAD,EACEC,mBAAS,IADX,mBACvBC,EADuB,KACbC,EADa,OAEUF,mBAAS,IAFnB,mBAEvBG,EAFuB,KAETC,EAFS,OAGcJ,oBAAS,GAHvB,mBAGvBK,EAHuB,KAGPC,EAHO,OAIEN,mBAAS,IAJX,mBAIvBO,EAJuB,KAIbC,EAJa,OAKUR,oBAAS,GALnB,mBAKvBS,EALuB,KAKTC,EALS,OAMJV,mBAAS,IANL,mBAMvBW,EANuB,KAMhBC,EANgB,OAOJZ,mBAAS,IAPL,mBAOvBa,EAPuB,KAOhBC,EAPgB,OAQUd,mBAAS,IARnB,mBAQvBe,EARuB,KAQTC,EARS,OASEhB,mBAAS,IATX,mBASvBiB,EATuB,KASbC,EATa,OAUElB,mBAAS,IAVX,mBAUvBmB,EAVuB,KAUbC,EAVa,KAYxBC,EAAU,uCAAG,8BAAAC,EAAA,6DACjBhB,GAAkB,GACZiB,EAAS,IAAIC,gBAAgB,CACjCvB,WACAE,iBAJe,SAMCsB,MAAM,mBAAD,OAAoBF,IAAUG,MAAK,SAACC,GAAD,OAASA,EAAIC,UANtD,QAMXD,EANW,QAORE,OAAOC,OAAOC,KAAKJ,EAAIK,SAChC1B,GAAkB,GARD,2CAAH,qDAWV2B,EAAY,uCAAG,8BAAAX,EAAA,6DACnBZ,GAAgB,GACVa,EAAS,IAAIC,gBAAgB,CACjCvB,WACAE,eACAI,aALiB,SAODkB,MAAM,qBAAD,OAAsBF,IAAUG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAPtD,QAObD,EAPa,QAQVE,OAAOjB,EAASsB,KAAKC,UAAUR,EAAIhB,QAC5CD,GAAgB,GATG,2CAAH,qDAYlB,OACE,iCACE,wBAAI0B,MAAO,CAAEC,aAAc,KAA3B,SACA,qCACA,2BAAOC,KAAK,OAAOC,KAAK,WAAWC,MAAOvC,EAAUwC,YAAY,YAAYC,SAAU,SAACC,GAAD,OAAOzC,EAAYyC,EAAEC,OAAOJ,UAClH,2BACEF,KAAK,OACLC,KAAK,eACLC,MAAOrC,EACPsC,YAAY,gBACZC,SAAU,SAACC,GAAD,OAAOvC,EAAgBuC,EAAEC,OAAOJ,UAE5C,4BAAQK,UAAU,MAAMC,QAASzB,EAAY0B,SAAU1C,GAAvD,iBAGA,2BACEiC,KAAK,OACLC,KAAK,WACLC,MAAOjC,EACPkC,YAAY,2BACZC,SAAU,SAACC,GAAD,OAAOnC,EAAYmC,EAAEC,OAAOJ,UAExC,4BAAQK,UAAU,MAAMC,QAASb,EAAcc,UAAWxC,GAAYE,GAAtE,kBAGA,2BAAO6B,KAAK,OAAOC,KAAK,QAAQC,MAAO7B,EAAO8B,YAAY,6BAA6BO,UAAQ,IAC/F,2BACEV,KAAK,OACLC,KAAK,eACLC,MAAOzB,EACP0B,YAAW,sDACXC,SAAU,SAACC,GAAD,OAAO3B,EAAgB2B,EAAEC,OAAOJ,UAE5C,2BACEF,KAAK,OACLC,KAAK,QACLC,MAAO3B,EACP4B,YAAW,6DACXC,SAAU,SAACC,GAAD,OAAO7B,EAAS6B,EAAEC,OAAOJ,UAErC,oCACA,2BAAOF,KAAK,OAAOC,KAAK,WAAWC,MAAOvB,EAAUwB,YAAY,WAAWC,SAAU,SAACC,GAAD,OAAOzB,EAAYyB,EAAEC,OAAOJ,UACjH,2BAAOF,KAAK,OAAOC,KAAK,WAAWC,MAAOrB,EAAUsB,YAAY,WAAWC,SAAU,SAACC,GAAD,OAAOvB,EAAYuB,EAAEC,OAAOJ,UACjH,qDACA,+BACE,+BACE,4BACE,oCACA,uCAGJ,+BACE,4BACE,yCACA,sCAAQvC,KAEV,4BACE,6CACA,sCAAQE,KAEV,4BACE,qCACA,sCAAQQ,KAETI,GACC,4BACE,6CACA,sCAAQA,KAGXF,GACC,4BACE,qCACA,sCAAQA,KAGXI,GACC,4BACE,oCACA,sCAAQA,EAAR,YAAoBE","file":"static/js/8.583a3b1a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport default function Setup() {\r\n  const [clientId, setClientId] = useState(\"\");\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const [loadingAuthURL, setLoadingAuthURL] = useState(false);\r\n  const [authCode, setAuthCode] = useState(\"\");\r\n  const [loadingToken, setLoadingToken] = useState(false);\r\n  const [token, setToken] = useState(\"\");\r\n  const [scope, setScope] = useState(\"\");\r\n  const [parentFolder, setParentFolder] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const getAuthURL = async () => {\r\n    setLoadingAuthURL(true);\r\n    const params = new URLSearchParams({\r\n      clientId,\r\n      clientSecret\r\n    });\r\n    const res = await fetch(`/api/getAuthURL?${params}`).then((res) => res.json());\r\n    if (!res.error) window.open(res.authURL);\r\n    setLoadingAuthURL(false);\r\n  };\r\n\r\n  const getAuthToken = async () => {\r\n    setLoadingToken(true);\r\n    const params = new URLSearchParams({\r\n      clientId,\r\n      clientSecret,\r\n      authCode\r\n    });\r\n    const res = await fetch(`/api/getAuthToken?${params}`).then((res) => res.json());\r\n    if (!res.error) setToken(JSON.stringify(res.token));\r\n    setLoadingToken(false);\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <h1 style={{ marginBottom: 12 }}>Setup</h1>\r\n      <h3>Drive</h3>\r\n      <input type=\"text\" name=\"clientId\" value={clientId} placeholder=\"Client Id\" onChange={(e) => setClientId(e.target.value)} />\r\n      <input\r\n        type=\"text\"\r\n        name=\"clientSecret\"\r\n        value={clientSecret}\r\n        placeholder=\"Client Secret\"\r\n        onChange={(e) => setClientSecret(e.target.value)}\r\n      />\r\n      <button className=\"btn\" onClick={getAuthURL} disabled={loadingAuthURL}>\r\n        Get auth code\r\n      </button>\r\n      <input\r\n        type=\"text\"\r\n        name=\"authCode\"\r\n        value={authCode}\r\n        placeholder=\"Paste the auth code here\"\r\n        onChange={(e) => setAuthCode(e.target.value)}\r\n      />\r\n      <button className=\"btn\" onClick={getAuthToken} disabled={!authCode || loadingToken}>\r\n        Generate token\r\n      </button>\r\n      <input type=\"text\" name=\"token\" value={token} placeholder=\"Token value will show here\" readOnly />\r\n      <input\r\n        type=\"text\"\r\n        name=\"parentFolder\"\r\n        value={parentFolder}\r\n        placeholder={`Parent folder id (OPTIONAL) eg. 0ABZHZpfYfdVCUk9PVA`}\r\n        onChange={(e) => setParentFolder(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"scope\"\r\n        value={scope}\r\n        placeholder={`Scope (OPTIONAL) [\"https://www.googleapis.com/auth/drive\"]`}\r\n        onChange={(e) => setScope(e.target.value)}\r\n      />\r\n      <h3>Auth</h3>\r\n      <input type=\"text\" name=\"username\" value={username} placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)} />\r\n      <input type=\"text\" name=\"password\" value={password} placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\r\n      <h3>Enviorment variables:</h3>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Value</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>CLIENT_ID</td>\r\n            <td>{`${clientId}`}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>CLIENT_SECRET</td>\r\n            <td>{`${clientSecret}`}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>TOKEN</td>\r\n            <td>{`${token}`}</td>\r\n          </tr>\r\n          {parentFolder && (\r\n            <tr>\r\n              <td>PARENT_FOLDER</td>\r\n              <td>{`${parentFolder}`}</td>\r\n            </tr>\r\n          )}\r\n          {scope && (\r\n            <tr>\r\n              <td>SCOPE</td>\r\n              <td>{`${scope}`}</td>\r\n            </tr>\r\n          )}\r\n          {username && (\r\n            <tr>\r\n              <td>AUTH</td>\r\n              <td>{`${username}:${password}`}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n  );\r\n}\r\n"],"sourceRoot":""}