{"version":3,"sources":["pages/Login.js"],"names":["Login","useState","loading","setLoading","loggedIn","setLoggedIn","username","setUsername","password","setPassword","error","setError","checkAuth","a","user","btoa","host","window","location","fetch","then","res","json","document","cookie","className","style","textAlign","type","name","value","onChange","e","target","onClick","disabled","color"],"mappings":"8LAEe,SAASA,IAAS,IAAD,EACAC,oBAAS,GADT,mBACvBC,EADuB,KACdC,EADc,OAEEF,oBAAS,GAFX,mBAEvBG,EAFuB,KAEbC,EAFa,OAGEJ,mBAAS,IAHX,mBAGvBK,EAHuB,KAGbC,EAHa,OAIEN,mBAAS,IAJX,mBAIvBO,EAJuB,KAIbC,EAJa,OAKJR,mBAAS,IALL,mBAKvBS,EALuB,KAKhBC,EALgB,KAOxBC,EAAS,uCAAG,8BAAAC,EAAA,0DACZX,EADY,wDAEhBC,GAAW,GACLW,EAAOC,KAAK,GAAD,OAAIT,EAAJ,YAAgBE,IAC3BQ,EAAgC,mBAAzBC,OAAOC,SAASF,KAA4B,wBAA0B,GAJnE,SAKEG,MAAM,GAAD,OAAIH,EAAJ,gCAAgCF,IAAQM,MAAK,SAACC,GAAD,OAASA,EAAIC,UALjE,cAMT,MACLC,SAASC,OAAT,oBAA+BV,GAC/BT,GAAY,KAEZM,EAAS,8BACTR,GAAW,IAXG,2CAAH,qDAef,OAAIC,GACFa,OAAOC,SAAW,IACX,MAIP,yBAAKO,UAAU,aACb,wBAAIC,MAAO,CAAEC,UAAW,WAAxB,UACA,2BAAOC,KAAK,OAAOC,KAAK,WAAWC,MAAOxB,EAAUyB,SAAU,SAACC,GAAD,OAAOzB,EAAYyB,EAAEC,OAAOH,UAC1F,2BAAOF,KAAK,WAAWC,KAAK,WAAWC,MAAOtB,EAAUuB,SAAU,SAACC,GAAD,OAAOvB,EAAYuB,EAAEC,OAAOH,UAC9F,4BAAQI,QAAStB,EAAWuB,SAAUjC,GAAtC,SAGCQ,GAAS,wBAAIgB,MAAO,CAAEU,MAAO,QAAU1B","file":"static/js/7.654f4169.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport default function Login() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const checkAuth = async () => {\r\n    if (loading) return;\r\n    setLoading(true);\r\n    const user = btoa(`${username}:${password}`);\r\n    const host = window.location.host === \"localhost:3000\" ? \"http://localhost:3001\" : \"\";\r\n    const req = await fetch(`${host}/checkAuth?basicauth=${user}`).then((res) => res.json());\r\n    if (req[\"auth\"]) {\r\n      document.cookie = `basicauth=${user}`;\r\n      setLoggedIn(true);\r\n    } else {\r\n      setError(\"Wrong username or password\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loggedIn) {\r\n    window.location = \"/\";\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-div\">\r\n      <h2 style={{ textAlign: \"center\" }}>Log in</h2>\r\n      <input type=\"text\" name=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n      <input type=\"password\" name=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n      <button onClick={checkAuth} disabled={loading}>\r\n        Login\r\n      </button>\r\n      {error && <h4 style={{ color: \"red\" }}>{error}</h4>}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}