{"version":3,"sources":["utils/parseCookies.js","components/Navbar.js","App.js","index.js"],"names":["parseCookies","cookiesString","cookies","split","forEach","text","eq_at","indexOf","key","slice","val","length","Navbar","className","Folder","React","lazy","File","Share","Setup","Login","App","useState","loading","setLoading","loggedIn","setLoggedIn","useEffect","a","document","cookie","basicauth","host","window","location","fetch","then","res","json","fallback","exact","path","component","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"uPAeeA,MAff,SAAsBC,GACpB,IAAKA,EAAe,MAAO,GAE3B,IAAMC,EAAU,GAShB,OAPAD,EAAcE,MAAM,MAAMC,SAAQ,SAACC,GACjC,IAAMC,EAAQD,EAAKE,QAAQ,KACrBC,EAAMH,EAAKI,MAAM,EAAGH,GACpBI,EAAML,EAAKI,MAAMH,EAAQ,EAAGD,EAAKM,QACvCT,EAAQM,GAAOE,KAGVR,GCVM,SAASU,IACtB,OACE,6BACE,yBAAKC,UAAU,eACb,6CCDR,IAAMC,EAASC,IAAMC,MAAK,kBAAM,sDAC1BC,EAAOF,IAAMC,MAAK,kBAAM,sDACxBE,EAAQH,IAAMC,MAAK,kBAAM,sDACzBG,EAAQJ,IAAMC,MAAK,kBAAM,gCACzBI,EAAQL,IAAMC,MAAK,kBAAM,gCAEhB,SAASK,IAAO,IAAD,EACEC,oBAAS,GADX,mBACrBC,EADqB,KACZC,EADY,OAEIF,oBAAS,GAFb,mBAErBG,EAFqB,KAEXC,EAFW,KAyB5B,OArBAC,qBAAU,WACR,sBAAC,8BAAAC,EAAA,0DACO1B,EAAUF,EAAa6B,SAASC,SACzBC,UAFd,uBAGGP,GAAW,GACXE,GAAY,GAJf,iCAOCF,GAAW,GACLQ,EAAgC,mBAAzBC,OAAOC,SAASF,KAA4B,wBAA0B,GARpF,SASmBG,MAAM,GAAD,OAAIH,EAAJ,gCAAgC9B,EAAQ6B,YAAaK,MAAK,SAACC,GAAD,OAASA,EAAIC,UAT/F,cAUQ,KACLZ,GAAY,IAEZG,SAASC,OAAT,aACAJ,GAAY,IAEdF,GAAW,GAhBZ,2CAAD,KAkBC,IAECD,EAEA,kBAAC,IAAD,KACE,kBAACX,EAAD,MACA,8BACE,yBAAKC,UAAU,kBAOrB,kBAAC,IAAD,KACE,kBAACD,EAAD,MACA,8BACE,kBAAC,WAAD,CAAU2B,SAAU,yBAAK1B,UAAU,iBACjC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO2B,OAAK,EAACC,KAAK,SAASC,UAAWvB,IACtC,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAK,mBAAmBC,UAAWxB,KAC9CO,GAAY,kBAAC,IAAD,CAAOe,OAAK,EAACC,KAAK,IAAIC,UAAWtB,IAC9CK,GAAY,kBAAC,IAAD,CAAOe,OAAK,EAACC,KAAK,IAAIC,UAAW5B,IAC7CW,GAAY,kBAAC,IAAD,CAAOe,OAAK,EAACC,KAAK,aAAaC,UAAW5B,IACtDW,GAAY,kBAAC,IAAD,CAAOe,OAAK,EAACC,KAAK,gBAAgBC,UAAWzB,IAC1D,kBAAC,IAAD,KACE,wBAAI0B,MAAO,CAAEC,UAAW,WAAxB,qCCvDdC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC1B,EAAD,OAEFQ,SAASmB,eAAe,W","file":"static/js/main.4c37f25a.chunk.js","sourcesContent":["function parseCookies(cookiesString) {\r\n  if (!cookiesString) return {};\r\n\r\n  const cookies = {};\r\n\r\n  cookiesString.split(\"; \").forEach((text) => {\r\n    const eq_at = text.indexOf(\"=\");\r\n    const key = text.slice(0, eq_at);\r\n    const val = text.slice(eq_at + 1, text.length);\r\n    cookies[key] = val;\r\n  });\r\n\r\n  return cookies;\r\n}\r\n\r\nexport default parseCookies;\r\n","import React from \"react\";\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-content\">\r\n        <h1>SESATTTTTTT</h1>\r\n  \r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React, { Suspense, useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport parseCookies from \"./utils/parseCookies\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nconst Folder = React.lazy(() => import(\"./pages/Folder\"));\r\nconst File = React.lazy(() => import(\"./pages/File\"));\r\nconst Share = React.lazy(() => import(\"./pages/Share\"));\r\nconst Setup = React.lazy(() => import(\"./pages/Setup\"));\r\nconst Login = React.lazy(() => import(\"./pages/Login\"));\r\n\r\nexport default function App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const cookies = parseCookies(document.cookie);\r\n      if (!cookies.basicauth) {\r\n        setLoading(false);\r\n        setLoggedIn(false);\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      const host = window.location.host === \"localhost:3000\" ? \"http://localhost:3001\" : \"\";\r\n      const req = await fetch(`${host}/checkAuth?basicauth=${cookies.basicauth}`).then((res) => res.json());\r\n      if (req[\"auth\"]) {\r\n        setLoggedIn(true);\r\n      } else {\r\n        document.cookie = `basicauth=`;\r\n        setLoggedIn(false);\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Router>\r\n        <Navbar />\r\n        <main>\r\n          <div className=\"loading-div\" />\r\n        </main>\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Navbar />\r\n      <main>\r\n        <Suspense fallback={<div className=\"loading-div\" />}>\r\n          <Switch>\r\n            <Route exact path=\"/setup\" component={Setup} />\r\n            <Route exact path=\"/share/:folderId\" component={Share} />\r\n            {!loggedIn && <Route exact path=\"/\" component={Login} />}\r\n            {loggedIn && <Route exact path=\"/\" component={Folder} />}\r\n            {loggedIn && <Route exact path=\"/:folderId\" component={Folder} />}\r\n            {loggedIn && <Route exact path=\"/file/:fileId\" component={File} />}\r\n            <Route>\r\n              <h2 style={{ textAlign: \"center\" }}>404 - Are you lost babygirl?</h2>\r\n            </Route>\r\n          </Switch>\r\n        </Suspense>\r\n      </main>\r\n    </Router>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}